<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Screener - SGX</title>
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0">

    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/colorbox.css" />
	<link rel="stylesheet" href="css/jquery-ui.min.css" />
	<link rel="stylesheet" href="css/jquery-ui-customized.css" />
    <link rel="stylesheet" href="css/style.css?v=1.4" />
    <link rel="stylesheet" href="css/alerts.css?v=1.0" />
    <link rel="stylesheet" href="css/valuation.css?v=1.0" />

</head>

<body id="stockListValuation" class="alerts-wrapper">
	<div class="grid">
		<span data-bind="template: 'stocklist-header'"></span>
	</div>
	
	<section class="valuation-performance" id="valuationSection">
		<div class="header-bar">
			<ul>
				<li class="downArrow"><a href="#" data-bind="click:changeTab.bind($data, 'performance'), css:{'active': activeTab() == 'performance'}">PERFORMANCE</a></li>
				<li><a href="#" data-bind="click:changeTab.bind($data, 'transactions'), css:{'active': activeTab() == 'transactions'}">TRANSACTIONS</a></li>
			</ul>
		</div>
		
		<!-- div content for performance functionality -->
		<div class="grid valuation-results performance" data-bind="css:{'show-hidden': activeTab() == 'performance'}">
		
			<div id="performance-chart-content" align="center">
				Chart Content has to be display
			</div>
			
			<div>
				<!-- <span data-bind="if: displayTransactions().length == 0">observableArray is empty</span> -->
				<!-- ko {if: displayTransactions().length} -->
					<table>
						<thead>
							<tr>
								<th width="5%"><div class="floatLeft w80P blueCl">Chart </div><div class="floatRight w20P"><img src="img/ico-info_blue.png" alt="" data-bind="tooltip: 'chart'"  /><input type="checkbox" id="selectAllId" data-bind="checked: $root.selectAllTransaction"></div></th>
								<th width="38%" class="asc" id="companyName" data-bind="click: sortColumnAsc">Company Name</th>
								<th width="13%"><div class="floatLeft w80P blueCl">First Trade Date</div><div class="floatRight w20P"> <img src="img/ico-info_blue.png" alt="" data-bind="tooltip: 'firstTradeDate'"  /></div></th>
								<th width="13%"><div class="floatLeft w80P blueCl">Number of Shares</div><div class="floatRight w20P"> <img src="img/ico-info_blue.png" alt="" data-bind="tooltip: 'numberOfShares'"  /></div></th>
								<th width="13%"><div class="floatLeft w80P blueCl">Last Close Price</div><div class="floatRight w20P"> <img src="img/ico-info_blue.png" alt="" data-bind="tooltip: 'lastClosePrice'"  /></div></th>
								<th width="13%"><div class="floatLeft w80P blueCl">Current value</div><div class="floatRight w20P"> <img src="img/ico-info_blue.png" alt="" data-bind="tooltip: 'currentValue'"  /></div></th>
								<th width="5%"><div class="floatLeft w80P blueCl">Delete</div><div class="floatRight w20P"> <img src="img/ico-info_blue.png" alt="" data-bind="tooltip: 'Delete'"  /></div></th>
							</tr>
						</thead>
						<tbody data-bind="foreach: displayTransactions">
							<tr data-bind="css: { 'odd': ($index() % 2 == 0) }">
								<td><input type="checkbox" data-bind="checkedValue: tickerCode, checked: selectedTransaction"></td>
								<!-- ko if: isMultiTrans -->
									<td>
										<div>
											<img src="img/ico-plus_blue.png" alt="" data-bind="attr: { id:'plus_'+$index()}, click: $root.toogleCompanyPlus.bind($root, $index())" />
											<img src="img/ico-minus_blue.png" alt="" data-bind="visible: false, attr: { id:'minus_'+$index()}, click: $root.toogleCompanyMinus.bind($root, $index())" />
											<span data-bind="text:companyName"></span> (<span data-bind="text:tickerCode"></span>)
										</div>
										<table class="panel" data-bind="attr: { id:'toogle_'+$index()}">
											<tbody data-bind="foreach: multiCompData">
												<tr>
													<td>&nbsp;</td>
													<td data-bind="text: intTransactionType"></td>
													<td data-bind="text: intTradeDate"></td>		
													<td data-bind="text: intNumberOfShares"></td>
													<td data-bind="text: intCostAtPurchase"></td>
													<td>&nbsp;</td>
													<td><img src="img/x-button.png" alt="" data-bind="" /></td>										
												</tr>
											</tbody>
										</table>
									</td>
								<!-- /ko -->
								<!-- ko ifnot: isMultiTrans -->
									<td><span data-bind="text:companyName"></span> (<span data-bind="text:tickerCode"></span>)</td>
								<!-- /ko -->
								<td data-bind="text: tradeDate, format: 'date'"></td>
								<td data-bind="text: numberOfShares, format: 'number'"></td>
								<td data-bind="text: costAtPurchase, format: 'dollars'"></td>
								<td data-bind="text: currentPrice, format: 'dollars'"></td>
								<!-- ko if: id -->
    								<td><img src="img/x-button.png" alt="" data-bind="click: $root.removePerformanceItem.bind($root)" /></td>
								<!-- /ko -->
								<!-- ko ifnot: id -->
    								<td>&nbsp;</td>
								<!-- /ko -->
							</tr>
						</tbody>
					</table>
				<!-- /ko -->
				<!-- ko {if: displayTransCompanies().length} -->
					<table>
						<thead>
							<tr>
								<th width="5%">Chart <img src="img/ico-info_blue.png" alt="" data-bind="tooltip: 'chart'"  /><input type="checkbox" id="selectAllId" data-bind="checked: $root.selectAllTransaction"></th>
								<th width="95%" class="asc" id="companyName" data-bind="click: sortColumnByAsc">Company Name</th>								
							</tr>
						</thead>
						<tbody data-bind="foreach: displayTransCompanies">
							<tr data-bind="css: { 'odd': ($index() % 2 == 0) }">
								<td><input type="checkbox" data-bind="checkedValue: tickerCode, checked: selectedTransaction"></td>
								<td class="company-row"><span data-bind="text:companyName"></span> (<span data-bind="text:tickerCode"></span>)</td>
							</tr>
						</tbody>
					</table>	
				<!-- /ko -->
			</div>
		</div>
		
		<!-- div content for transactions functionality -->
		<div class="grid valuation-results transactions" data-bind="css:{'show-hidden': activeTab() == 'transactions'}">
			<div>
				Enter transaction to view additional details on your StockList
			</div>
			
			<div>
				 <div align="right">
					<a class="save-button" data-bind="click: saveTrans">Save</a>
				</div>
				<table>
					<thead>
						<tr>
							<th width="45%" class="asc" id="transCompanyNameColumn" data-bind="click: sortColumn">Company Name</th>
							<th width="10%">Type</th>
							<th width="10%"><div class="floatLeft w80P blueCl">Trade Date</div><div class="floatRight w20P"><img data-bind="tooltip: 'tranTradeDate' " alt="" src="img/ico-info_blue.png"></div></th>
							<th width="10%"><div class="floatLeft w80P blueCl">Number of Shares</div><div class="floatRight w20P"><img data-bind="tooltip: 'transNoOfShares'" alt="" src="img/ico-info_blue.png"></div></th>
							<th width="10%"><div class="floatLeft w80P blueCl">Price</div><div class="floatRight w20P"><img data-bind="tooltip: 'transPrice'" alt="" src="img/ico-info_blue.png"></div></th>
							<th width="10%"><div class="floatLeft w80P blueCl">Last Close Price</div><div class="floatRight w20P"><img data-bind="tooltip: 'transLastClosePrice'" alt="" src="img/ico-info_blue.png"></div></th>
							<th width="5%">Action</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td class="company-row"><select class="select-company" id="watchlistCompaniesSelect" data-bind="options: watchlistCompanies, optionsCaption: 'Select a Company', value: selectedCompanyValue, optionsValue: 'ticker', optionsText: 'companyName'"></select></td>
							<td><select class="select-type" data-bind="options: availableTypes, value: selectedAvailableType" ></select></td>
							<td><input data-bind="value: initialTradeDate" type="text" id="tradeDate" readonly="readonly"/></td>
							<td><input type="text" class="text" data-bind="value: initialNumberOfShares"/></td>
							<td><input type="text" data-bind="value: initialCostAtPurchase" /></td>
							<td>&nbsp;</td>
							<td><a class="add-button" data-bind="click: addTrans">Add</a></td>
						</tr>
					</tbody>
					<tbody data-bind="foreach: transItems">
						<tr data-bind="css: { 'odd': ($index() % 2 == 0) }">
							<td class="company-row" data-bind="text: companyName"></td>
							<td><select class="select-type" data-bind="options: $root.availableTypes, value: transactionType" ></select></td>
							<td><input data-bind="value: tradeDate, datepicker:tradeDate" type="text" readonly="readonly"/></td>
							<td><input data-bind="value: numberOfShares, largeNumber: numberOfShares" type="text"/></td>
							<td><input data-bind="value: costAtPurchase, currencyInput: costAtPurchase, symbol: '$'" type="text"/></td>
							<td data-bind="text: currentPrice, currency: currentPrice, symbol: '$'"></td>
							<td><div class="imgCenterAllign"><img src="img/x-button.png" alt="" data-bind="click: $root.removeItem.bind($root)" /></div></td>
					    </tr>
					</tbody>
				    	
				</table>
				<div align="right">
					<a class="save-button" data-bind="click: saveTrans">Save</a>
				</div>
			</div>
		</div>
	</section>
	
    <div class="grid disclosure scan">
		<p>SGX StockFacts is a collaboration between SGX and S&amp;P Global Market Intelligence, a division of S&amp;P Global. Use of this information is subject to <a data-bind="siteLink:'terms-conditions'">terms and conditions</a>.</p>
	</div>
	
<!-- goes at bottom for faster page load -->
<script type="text/javascript" src="js/vendor/store.js"></script>
<script type="text/javascript" src="js/vendor/require.js" data-main="js/config.js"></script>
<script type="text/javascript">

	function loadPage() {
		require([ "client/base", "client/valuation" ],
			function(base, pg) {
				$(document).ready(function(e) {
					var page = base.init(pg);
				});
			}
		);
	}
	
</script>

</body>

</html>